<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Frenzy Enhanced - Multiplayer Quiz Game</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/themes.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading Flashcard Frenzy...</h2>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="gameContainer" class="game-container hidden">
        <!-- Header -->
        <header class="game-header">
            <div class="header-left">
                <h1 class="game-title">
                    <i class="fas fa-bolt"></i>
                    Flashcard Frenzy Enhanced
                </h1>
                <div class="theme-selector">
                    <button id="themeToggle" class="theme-btn">
                        <i class="fas fa-palette"></i>
                    </button>
                </div>
            </div>
            <div class="header-right">
                <div class="connection-status" id="connectionStatus">
                    <i class="fas fa-wifi"></i>
                    <span>Connected</span>
                </div>
                <button id="settingsBtn" class="settings-btn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- Main Menu -->
        <div id="mainMenu" class="screen active">
            <div class="menu-container">
                <div class="menu-hero">
                    <div class="hero-animation">
                        <div class="floating-cards">
                            <div class="card-float card-1">?</div>
                            <div class="card-float card-2">!</div>
                            <div class="card-float card-3">â˜…</div>
                        </div>
                    </div>
                    <h2>Challenge Your Mind!</h2>
                    <p>Real-time multiplayer flashcard battles</p>
                </div>
                
                <div class="menu-options">
                    <button id="createGameBtn" class="menu-btn primary">
                        <i class="fas fa-plus"></i>
                        Create Game
                    </button>
                    <button id="joinGameBtn" class="menu-btn secondary">
                        <i class="fas fa-sign-in-alt"></i>
                        Join Game
                    </button>
                    <button id="practiceBtn" class="menu-btn tertiary">
                        <i class="fas fa-dumbbell"></i>
                        Practice Mode
                    </button>
                    <button id="leaderboardBtn" class="menu-btn quaternary">
                        <i class="fas fa-trophy"></i>
                        Leaderboard
                    </button>
                </div>

                <div class="player-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="gamesPlayed">0</span>
                        <span class="stat-label">Games Played</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="winRate">0%</span>
                        <span class="stat-label">Win Rate</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="bestStreak">0</span>
                        <span class="stat-label">Best Streak</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Setup -->
        <div id="gameSetup" class="screen">
            <div class="setup-container">
                <h2>Game Setup</h2>
                
                <div class="setup-section">
                    <label for="playerName">Your Name:</label>
                    <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
                </div>

                <div class="setup-section">
                    <label for="gameMode">Game Mode:</label>
                    <select id="gameMode">
                        <option value="classic">Classic (First to 10)</option>
                        <option value="speed">Speed Round (2 minutes)</option>
                        <option value="survival">Survival (3 lives)</option>
                        <option value="tournament">Tournament (Best of 3)</option>
                    </select>
                </div>

                <div class="setup-section">
                    <label for="difficulty">Difficulty:</label>
                    <div class="difficulty-selector">
                        <button class="difficulty-btn active" data-difficulty="easy">Easy</button>
                        <button class="difficulty-btn" data-difficulty="medium">Medium</button>
                        <button class="difficulty-btn" data-difficulty="hard">Hard</button>
                        <button class="difficulty-btn" data-difficulty="expert">Expert</button>
                    </div>
                </div>

                <div class="setup-section">
                    <label>Categories:</label>
                    <div class="category-grid">
                        <label class="category-item">
                            <input type="checkbox" value="science" checked>
                            <span>Science</span>
                        </label>
                        <label class="category-item">
                            <input type="checkbox" value="history" checked>
                            <span>History</span>
                        </label>
                        <label class="category-item">
                            <input type="checkbox" value="geography" checked>
                            <span>Geography</span>
                        </label>
                        <label class="category-item">
                            <input type="checkbox" value="literature" checked>
                            <span>Literature</span>
                        </label>
                        <label class="category-item">
                            <input type="checkbox" value="math" checked>
                            <span>Mathematics</span>
                        </label>
                        <label class="category-item">
                            <input type="checkbox" value="sports" checked>
                            <span>Sports</span>
                        </label>
                    </div>
                </div>

                <div class="setup-actions">
                    <button id="startGameBtn" class="btn primary">Start Game</button>
                    <button id="backToMenuBtn" class="btn secondary">Back</button>
                </div>
            </div>
        </div>

        <!-- Waiting Room -->
        <div id="waitingRoom" class="screen">
            <div class="waiting-container">
                <div class="room-info">
                    <h2>Waiting for Players...</h2>
                    <div class="room-code">
                        <span>Room Code:</span>
                        <code id="roomCodeDisplay"></code>
                        <button id="copyRoomCode" class="copy-btn">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>

                <div class="players-list">
                    <div class="player-slot" id="player1Slot">
                        <div class="player-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <span class="player-name">Waiting...</span>
                        <div class="player-status ready">Ready</div>
                    </div>
                    <div class="player-slot" id="player2Slot">
                        <div class="player-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <span class="player-name">Waiting...</span>
                        <div class="player-status waiting">Waiting</div>
                    </div>
                </div>

                <div class="waiting-actions">
                    <button id="readyBtn" class="btn primary">Ready</button>
                    <button id="leaveRoomBtn" class="btn secondary">Leave Room</button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <!-- Game HUD -->
            <div class="game-hud">
                <div class="player-info left">
                    <div class="player-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="player-details">
                        <span class="player-name" id="player1Name">Player 1</span>
                        <div class="player-score" id="player1Score">0</div>
                    </div>
                    <div class="player-streak" id="player1Streak">
                        <i class="fas fa-fire"></i>
                        <span>0</span>
                    </div>
                </div>

                <div class="game-center">
                    <div class="timer-container">
                        <div class="timer-circle">
                            <svg class="timer-svg">
                                <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
                                <circle class="timer-progress" cx="50" cy="50" r="45" id="timerProgress"></circle>
                            </svg>
                            <div class="timer-text" id="timerText">30</div>
                        </div>
                    </div>
                    <div class="round-info">
                        <span>Round <span id="currentRound">1</span></span>
                    </div>
                </div>

                <div class="player-info right">
                    <div class="player-streak" id="player2Streak">
                        <i class="fas fa-fire"></i>
                        <span>0</span>
                    </div>
                    <div class="player-details">
                        <span class="player-name" id="player2Name">Player 2</span>
                        <div class="player-score" id="player2Score">0</div>
                    </div>
                    <div class="player-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            </div>

            <!-- Flashcard Container -->
            <div class="flashcard-container">
                <div class="flashcard" id="flashcard">
                    <div class="card-header">
                        <span class="category-badge" id="categoryBadge">Science</span>
                        <span class="difficulty-badge" id="difficultyBadge">Medium</span>
                    </div>
                    <div class="card-content">
                        <div class="question-text" id="questionText">
                            Loading question...
                        </div>
                        <div class="question-image" id="questionImage" style="display: none;">
                            <img src="" alt="Question image">
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="question-number">
                            Question <span id="questionNumber">1</span> of <span id="totalQuestions">10</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Answer Options -->
            <div class="answers-container">
                <div class="answers-grid" id="answersGrid">
                    <!-- Dynamic answer buttons will be inserted here -->
                </div>
            </div>

            <!-- Power-ups -->
            <div class="powerups-container">
                <button class="powerup-btn" id="skipPowerup" title="Skip Question">
                    <i class="fas fa-forward"></i>
                    <span class="powerup-count">3</span>
                </button>
                <button class="powerup-btn" id="hintPowerup" title="Get Hint">
                    <i class="fas fa-lightbulb"></i>
                    <span class="powerup-count">2</span>
                </button>
                <button class="powerup-btn" id="freezePowerup" title="Freeze Opponent">
                    <i class="fas fa-snowflake"></i>
                    <span class="powerup-count">1</span>
                </button>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="screen">
            <div class="game-over-container">
                <div class="result-animation" id="resultAnimation">
                    <div class="confetti"></div>
                </div>
                
                <div class="result-content">
                    <h2 id="gameResult">Game Over!</h2>
                    <div class="winner-info" id="winnerInfo">
                        <div class="winner-avatar">
                            <i class="fas fa-crown"></i>
                        </div>
                        <span id="winnerName">Winner</span>
                    </div>
                </div>

                <div class="game-stats">
                    <div class="stat-row">
                        <div class="stat-item">
                            <span class="stat-label">Final Score</span>
                            <span class="stat-value" id="finalScore">0 - 0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Game Duration</span>
                            <span class="stat-value" id="gameDuration">0:00</span>
                        </div>
                    </div>
                    <div class="stat-row">
                        <div class="stat-item">
                            <span class="stat-label">Accuracy</span>
                            <span class="stat-value" id="accuracy">0%</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Best Streak</span>
                            <span class="stat-value" id="bestGameStreak">0</span>
                        </div>
                    </div>
                </div>

                <div class="game-over-actions">
                    <button id="playAgainBtn" class="btn primary">Play Again</button>
                    <button id="mainMenuBtn" class="btn secondary">Main Menu</button>
                    <button id="shareResultBtn" class="btn tertiary">Share Result</button>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Settings</h3>
                    <button class="modal-close" id="closeSettings">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <label>Sound Effects</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="soundToggle" checked>
                            <span class="slider"></span>
                        </div>
                    </div>
                    <div class="setting-group">
                        <label>Background Music</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="musicToggle" checked>
                            <span class="slider"></span>
                        </div>
                    </div>
                    <div class="setting-group">
                        <label>Animations</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="animationsToggle" checked>
                            <span class="slider"></span>
                        </div>
                    </div>
                    <div class="setting-group">
                        <label>Difficulty</label>
                        <select id="defaultDifficulty">
                            <option value="easy">Easy</option>
                            <option value="medium" selected>Medium</option>
                            <option value="hard">Hard</option>
                            <option value="expert">Expert</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notification System -->
        <div id="notificationContainer" class="notification-container"></div>

        <!-- Audio Elements -->
        <audio id="correctSound" preload="auto">
            <source src="sounds/correct.mp3" type="audio/mpeg">
        </audio>
        <audio id="wrongSound" preload="auto">
            <source src="sounds/wrong.mp3" type="audio/mpeg">
        </audio>
        <audio id="backgroundMusic" loop preload="auto">
            <source src="sounds/background.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/flashcards.js"></script>
    <script src="js/gameLogic.js"></script>
    <script src="js/multiplayer.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>